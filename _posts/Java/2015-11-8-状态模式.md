---
layout: post
author: Ericson
date: 2015-11-8 19:58
title: 状态模式
category: 设计模式
tag: [java,设计模式]
---

状态模式，当一个对象的内在状态改变时允许改变其行为，这个对象看起来像是改变了其类。状态模式主要解决的是当控制一个对象状态转换的条件表达式过于复杂时的情况。把状态的判断逻辑转移到表示不同状态的一系列类当中，可以把复杂的判断逻辑简化。状态模式结构图如下：
![state](/public/img/java/state.jpg)
状态模式的好处是将与特定状态相关的行为局部化，并且将不同状态的行为分割开来。状态模式通过把各种状态转移逻辑分布到State的子类之间，来减少相互间的依赖。当一个对象的行为取决于它的状态，并且它必须在运行时刻根据状态改变它的行为时，就可以考虑使用状态模式。

状态模式优点：
<ul>
    <li>状态模式将与特定状态相关的行为局部化，并且将不同状态的行为分割开来</li>
    <li>所有状态相关的代码都存在于某个ConcreteState中，所以通过定义新的子类很容易地增加新的状态和转换</li>
    <li>状态模式通过把各种状态转移逻辑分不到State的子类之间，来减少相互间的依赖</li>
</ul>
缺点：
<ul>
    <li>导致较多的ConcreteState子类</li>
</ul>
适用场景：<br/>
<ul>
    <li>当一个对象的行为取决于它的状态，并且它必须在运行时刻根据状态改变它的行为时，就可以考虑使用状态模式</li>
    <li>一个操作中含有庞大的分支结构，并且这些分支决定于对象的状态</li>
</ul>
应用举例：电灯有两个状态，开（亮）与关（不亮），下面用状态模式实现对电灯的控制。
![statesample](/public/img/java/statesample.png)